"use strict";var timerUpdate,remainSeconds,remainRounds,getRemainTime=function(e){var n=new Date,t=(new Date(e)-n+2e3)/1e3,a=("0"+Math.floor(t%60)).slice(-2),r=("0"+Math.floor(t/60%60)).slice(-2),s=("0"+Math.floor(t/3600%24)).slice(-2);return{remainTime:t,remainDays:Math.floor(t/86400),remainHours:s,remainMinutes:r,remainSeconds:a}},countdown=function(e){var n=document.getElementById("hours"),t=document.getElementById("minutes"),a=document.getElementById("seconds"),r=document.getElementById("final-msg"),s=setInterval((function(){var o=getRemainTime(e);n.innerHTML="".concat(o.remainHours),t.innerHTML="".concat(o.remainMinutes),a.innerHTML="".concat(o.remainSeconds),o.remainTime<=1&&(clearInterval(s),r.innerHTML="You lost, time is over")}),1e3)},selectionBtns=document.getElementById("selections"),main=document.getElementById("main"),lastPlay=document.getElementById("data-results"),compScore=document.getElementById("comp-score"),yourScore=document.getElementById("your-score"),minutes=document.getElementById("minutes"),seconds=document.getElementById("seconds"),tenthsOfSeconds=document.getElementById("tenthsOfSeconds"),finalMsg=document.getElementById("gameResultsText"),gameOver=document.getElementById("gameOver"),playAgain=document.getElementById("playAgain"),leave=document.getElementById("leave"),intro=document.getElementById("intro"),bestOf3=document.getElementById("bestOf3"),bestOf5=document.getElementById("bestOf5"),gameSetting=document.getElementById("form-play"),msgErrors=document.getElementById("msg-errors"),allowPlay=!1,arraySelections=[{name:"rock",img:"assets/img/rock.png",beats:["scissors","lizard"]},{name:"scissors",img:"assets/img/scissors.png",beats:["paper","lizard"]},{name:"paper",img:"assets/img/paper.png",beats:["rock","spock"]},{name:"spock",img:"assets/img/spock.png",beats:["scissors","rock"]},{name:"lizard",img:"assets/img/lizard.png",beats:["paper","spock"]}],errors=[],checkInputs=function(){var e;errors=[],e=bestOf5.checked?3:2;var n=document.getElementById("max-time").value;if(null===n||""===n||n<3)errors.push("Time should be greater than 2 and less than 120 seconds");else parseInt(n);return!(errors.length>0)&&{numberRounds:e,maxTime:n}},gameStart=function(e){intro.classList.remove("intro--show"),compScore.innerHTML="0",yourScore.innerHTML="0",remainSeconds=parseInt(e.maxTime),remainRounds=parseInt(e.numberRounds),timer("start",remainSeconds)},makeSelection=function(e){var n=randomSelection(),t=isWinner(e,n),a=isWinner(n,e);timer("stop",remainSeconds),showWinner(t,a),showPlay(n,a),showPlay(e,t),t&&addScore(yourScore),a&&addScore(compScore),parseInt(yourScore.innerText)>=remainRounds||parseInt(compScore.innerText)>=remainRounds?(gameOver.classList.add("gameOver--show"),allowPlay=!1,parseInt(yourScore.innerText)>parseInt(compScore.innerText)?finalMsg.innerHTML='You wind, Congratulations <i class="fa fa-smile-o"></i>':parseInt(yourScore.innerText)<parseInt(compScore.innerText)?finalMsg.innerHTML='You lost, Sorry <i class="fa fa-frown-o"></i>':finalMsg.innerHTML='Draw <i class="fa fa-meh-o"></i>'):timer("start",remainSeconds)},addScore=function(e){e.innerText=parseInt(e.innerText)+1},showPlay=function(e,n){var t=document.createElement("DIV");t.innerHTML='<img src="'.concat(e.img,'">'),t.classList.add("selection","selection--result"),n&&t.classList.add("winner"),lastPlay.insertAdjacentElement("afterbegin",t)},showWinner=function(e,n){var t=document.createElement("div");t.innerHTML=e?'<p class="result-selection">You win</p>':n?'<p class="result-selection">You lost</p>':'<p class="result-selection"> Draw </p>',lastPlay.insertAdjacentElement("afterbegin",t)},isWinner=function(e,n){return e.beats[0]===n.name||e.beats[1]===n.name},randomSelection=function(){var e=Math.floor(Math.random()*arraySelections.length);return arraySelections[e]};function timer(e,n){if("start"===e){var t=10*n;timerUpdate=setInterval((function(){t--;var e=("0"+Math.floor(t/600)).slice(-2),n=("0"+Math.floor(t/10%60)).slice(-2),a=Math.floor(t%10);minutes.innerHTML="".concat(e),seconds.innerHTML="".concat(n),tenthsOfSeconds.innerHTML="".concat(a),t<1&&(gameOver.classList.add("gameOver--show"),allowPlay=!1,finalMsg.innerHTML='You lost, time is over <i class="fa fa-frown-o"></i>',clearInterval(timerUpdate))}),100)}"stop"===e&&clearInterval(timerUpdate)}gameSetting.addEventListener("submit",(function(e){e.preventDefault();var n=checkInputs();if(errors.length>0){var t="";errors.forEach((function(e){t+="<li>".concat(e,"</li>")})),msgErrors.innerHTML=t}else allowPlay=!0,gameStart(n)})),playAgain.addEventListener("click",(function(e){intro.classList.add("intro--show"),compScore.innerHTML="0",yourScore.innerHTML="0",lastPlay.innerHTML="",clearInterval(timerUpdate),allowPlay=!1,gameOver.classList.remove("gameOver--show")})),leave.addEventListener("click",(function(e){window.close()})),selectionBtns.addEventListener("click",(function(e){if(allowPlay){var n=e.target.id,t=arraySelections.find((function(e){return e.name===n}));makeSelection(t)}}));var mainNav=document.getElementById("nav__links"),toggleMenu=document.getElementById("toggle-menu"),navList=document.getElementById("nav__list"),navItems=document.querySelectorAll(".nav__item"),navLenght=navItems.length,menuOpen=!1;toggleMenu.addEventListener("click",(function(){mainNav.classList.toggle("show-menu"),toggleMenu.classList.toggle("open"),menuOpen=!menuOpen})),navItems.forEach((function(e){e.addEventListener("click",(function(){navList.querySelector(".nav__item--active").classList.remove("nav__item--active"),e.classList.add("nav__item--active"),menuOpen&&(mainNav.classList.toggle("show-menu"),toggleMenu.classList.toggle("open"),menuOpen=!1)}))}));